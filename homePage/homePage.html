<!DOCTYPE html>
<html lang="en">
  <head>
      <link rel="stylesheet" href="homePage.css">
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css"
    />
    <script
    src="http://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
    crossorigin="anonymous"
  ></script>
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro&display=swap"
      rel="stylesheet"
    />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
      <div class="container">
        <div class="options-menu">
            <div class="options-center">
                <div class="logo">
                    <i class="fa fa-twitter"></i>
                </div>
                <div class="option">
                    <div> <a href=""> <i class="fa fa-home"></i>Home</a></div>
                    <div> <a href="#"> <i class="fa fa-hashtag"></i>Explore</a></div>
                    <div> <a href=""> <i class="fa fa-bell"></i>Notifications</a></div>
                    <div> <a href=""> <i class="fa fa-envelope-o"></i>Messages</a></div>
                    <div> <a href=""> <i class="fa fa-bookmark-o"></i>Bookmarks</a></div>
                    <div> <a href=""> <i class="fa fa-list-alt"></i>Lists</a></div>
                    <div> <a href="#"> <i class="fa fa-user"></i>Profile</a></div>
                    <div> <a href=""> <i class="fa fa-ellipsis-h"></i>More</a></div>
                    <div><button>Tweet</button></div>
                </div>
            </div>
         </div>
         <!-- context menue -->
         <div class="content-menu">
             <div class="prefer">
                <span>
                    <a href="">Home</a>
                </span>
                <span>
                    <i class="fa fa-star-o"></i>
                </span>
             </div>
             <div class="you-tweet-other-tweet">
                 <div class="your-tweet">
                     <div class="profile-message">
                         <span><img id="yourProfilePic"  alt=""></span>
                         <span><input type="text" placeholder="What's happening" name="" id="addTextTweet"></span>
                     </div>
                     <div class="add-extra">
                         <div class="images-more">
                             <span><a href=""><i class="fa fa-picture-o"></i></a></span>
                             <span><a href=""><i class="fa fa-bars"></i></a></span>
                             <span><a href=""><i class="fa fa-smile-o"></i></a></span>
                             <span><a href=""><i class="fa fa-calender-plus-o"></i></a></span>
                         </div>
                         <span><button id="tweetBtn">Tweet</button></span>
                     </div>
                 </div>
                 <div class="other-tweets">

                     <!-- each person -->
                     <div class="other-tweet" id="googleTweet">
                         <div class="profile-msg">
                             <div class="others-profile">
                                 <img src="google.jpg" alt="">
                             </div>
                             <div class="name-msg">
                                 <span><p><b>Google </b><i class="fa fa-check-circle-o"></i>@google <small> yesterday</small></p></span>
                                 <div class="msg">
                                     <p>Good News For Google Updates</p>
                                 </div>
                             </div>
                             <div class="more-options">
                                 <i class="fa fa-ellipsis-h"></i>
                             </div>
                         </div>
                         <div class="image-video">
                             <img src="googlePost.jpg" alt="">
                         </div>
                         <div class="your-reaction">
                             <div class="comment"><i class="fa fa-comment-o"></i><p></p></div>
                             <div class="retweet"><i class="fa fa-retweet"></i><p></p></div>
                             <div class="likeGoogle"><i class="fa fa-heart-o"></i><p></p></div>
                             <div class="bookmark"><i class="fa fa-upload"></i><p></p></div>
                         </div>
                     </div>
                     <!-- end of each person -->

                      <!-- each person -->
                      <div class="other-tweet">
                        <div class="profile-msg">
                            <div class="others-profile">
                                <img src="microsoft.jpg" alt="">
                            </div>
                            <div class="name-msg">
                                <span><p><b>Microsoft </b><i class="fa fa-check-circle-o"></i>@microsoft <small> yesterday</small></p></span>
                                <div class="msg">
                                    <p> Microsoft reveals plans for future Modern Windows OS</p>
                                </div>
                            </div>
                            <div class="more-options">
                                <i class="fa fa-ellipsis-h"></i>
                            </div>
                        </div>
                        <div class="image-video">
                            <img src="microsoftPost.jpg" alt="">
                        </div>
                        <div class="your-reaction">
                            <div class="comment"><i class="fa fa-comment-o"></i><p></p></div>
                            <div class="retweet"><i class="fa fa-retweet"></i><p></p></div>
                            <div class="likeMicrosoft"><i class="fa fa-heart-o"></i><p></p></div>
                            <div class="bookmark"><i class="fa fa-upload"></i><p></p></div>
                        </div>
                    </div>
                    <!-- end of each person -->

                      <!-- each person -->
                      <div class="other-tweet">
                        <div class="profile-msg">
                            <div class="others-profile">
                                <img src="omKulthum.jpg" alt="">
                            </div>
                            <div class="name-msg">
                                <span><p><b> Om Kulthum </b><i class="fa fa-check-circle-o"></i>@om__Kulthum <small>yesterday</small></p></span>
                                <div class="msg">
                                    <p>وأقولك ع اللي سهرني.. وأقولك ع اللي بكاني</p>
                                </div>
                            </div>
                            <div class="more-options">
                                <i class="fa fa-ellipsis-h"></i>
                            </div>
                        </div>
                        <!-- <div class="image-video">
                            <img src="cat.png" alt="">
                        </div> -->
                        <div class="your-reaction">
                            <div class="comment"><i class="fa fa-comment-o"></i><p></p></div>
                            <div class="retweet"><i class="fa fa-retweet"></i><p></p></div>
                            <div class="likeOm"><i class="fa fa-heart-o"></i><p></p></div>
                            <div class="bookmark"><i class="fa fa-upload"></i><p></p></p></div>
                        </div>
                    </div>
                    <!-- end of each person -->


                      <!-- each person -->
                      <div class="other-tweet">
                        <div class="profile-msg">
                            <div class="others-profile">
                                <img src="NajeebMahfouz.jpg" alt="">
                            </div>
                            <div class="name-msg">
                                <span><p><b> Najeeb Mahfouz </b><i class="fa fa-check-circle-o"></i>@NajeeBMahfouZ_ <small>yesterday</small></p></span>
                                <div class="msg">
                                    <p>محظوظ</p>
                                </div>
                            </div>
                            <div class="more-options">
                                    <i class="fa fa-ellipsis-h"></i>
                            </div>
                        </div>
                        <div class="image-video">
                            <img src="NajeebMahfouzPost.jpg" alt="">
                        </div>
                        <div class="your-reaction">
                            <div class="comment"><i class="fa fa-comment-o"></i><p></p></div>
                            <div class="retweet"><i class="fa fa-retweet"></i><p></p></div>
                            <div class="likeNM"><i class="fa fa-heart-o"></i><p></p></div>
                            <div class="bookmark"><i class="fa fa-upload"></i><p></p></div>
                        </div>
                    </div>
                    <!-- end of each person -->

                 </div>

             </div>
         </div>
         <!-- end of context menu -->
         <!-- trending -->
         <div class="trending-menu">
             <div class="trending-center">
                 <div class="search">
                     <input type="search" placeholder="search twitter" name="" id="">
                     <span><i class="fa fa-search"></i></span>
                 </div>

                 <div class="trending">
                     <div class="header">
                         <p>what's happening</p>
                     </div>
                     <div class="trends">
                         <!-- each trend -->
                         <div class="trend">
                             <div class="trend-msg">
                                 <div class="trend-name">
                                     <p> egypt 2020</p>
                                 </div>
                                 <div class="subject">
                                     <p> egypt 2021</p>
                                 </div>
                                 <div class="trend-with">
                                     <p>trending with <a href="">#Al-Ahly</a>,<a href="">#Yalla-Shoot</a></p>
                                 </div>
                             </div>
                             <div class="trend-picture">
                                 <img src="alahly.png" alt="">
                             </div>
                         </div>
                         <!-- end of each trend -->
                        <!-- each trend -->
                        <div class="trend">
                            <div class="trend-msg">
                                <div class="trend-name">
                                    <p> egypt 2020</p>
                                </div>
                                <div class="subject">
                                    <p> egypt 2021</p>
                                </div>
                                <div class="trend-with">
                                    <p>trending with <a href="">#Al-Ahly</a>,<a href="">#Yalla-Shoot</a></p>
                                </div>
                            </div>
                            <div class="trend-picture">
                                <img src="alahly.png" alt="">
                            </div>
                        </div>
                        <!-- end of each trend -->
                        
                         <div class="show-more">
                             <a href="">Show more</a>
                         </div>
                         <!-- end of each trend -->
                     </div>
                 </div>
                    <!-- follow   -->
                    <div class="follow"></div>
                 <div class="header">
                     <p>Who to Follow</p>
                 </div>
                 <div class="persons">

                    <!-- each person -->
                     <div class="person">
                        <div class="person-profile">
                            <img src="profile.jpg" alt="">
                        </div>
                        <div class="name">
                            <div class="main-name">
                                <h3>Ahmed Mohammed</h3>
                            </div>
                            <div class="username">
                                <p>@Ahmed</p>
                            </div>
                        </div>
                        <div class="send-follow-request">
                            <button>Follow</button>
                        </div>
                       </div>
                       <!-- end of each person -->

                     <!-- each person -->
                     <div class="person">
                        <div class="person-profile">
                            <img src="profile.jpg" alt="">
                        </div>
                        <div class="name">
                            <div class="main-name">
                                <h3>Islam Mohammed</h3>
                            </div>
                            <div class="username">
                                <p>@Islam</p>
                            </div>
                        </div>
                        <div class="send-follow-request">
                            <button>Follow</button>
                        </div>
                       </div>
                       <!-- end of each person -->


                          <!-- each person -->
                     <div class="person">
                        <div class="person-profile">
                            <img src="profile.jpg" alt="">
                        </div>
                        <div class="name">
                            <div class="main-name">
                                <h3>Peter Kameed</h3>
                            </div>
                            <div class="username">
                                <p>@Peter</p>
                            </div>
                        </div>
                        <div class="send-follow-request">
                            <button>Follow</button>
                        </div>
                       </div>
                       <!-- end of each person -->




                          <!-- each person -->
                     <div class="person">
                        <div class="person-profile">
                            <img src="profile.jpg" alt="">
                        </div>
                        <div class="name">
                            <div class="main-name">
                                <h3>Mohammed Foad</h3>
                            </div>
                            <div class="username">
                                <p>@Foad</p>
                            </div>
                        </div>
                        <div class="send-follow-request">
                            <button>Follow</button>
                        </div>
                       </div>
                       <!-- end of each person -->




                          <!-- each person -->
                     <div class="person">
                        <div class="person-profile">
                            <img src="profile.jpg" alt="">
                        </div>
                        <div class="name">
                            <div class="main-name">
                                <h3>Mario Yonan</h3>
                            </div>
                            <div class="username">
                                <p>@Mario</p>
                            </div>
                        </div>
                        <div class="send-follow-request">
                            <button>Follow</button>
                        </div>
                       </div>
                       <!-- end of each person -->


                 </div>
                 <div class="show-more">
                     <a href="">Show more</a>
                 </div>
             </div>

                    <!-- end of follow   -->

             </div>
         </div>
         <!-- end of trending -->
      </div>

      <script>  
        $(document).ready(function () {  
            var id = getParameterValues('ID');  
            var arr = [];
            arr = getValueOfUser()
            console.log(arr);
            var name = arr.name;  
            var userName = arr.userName;  
            var photo = arr.image;  
            var posts = arr.posts;  
            $(".likeGoogle").css('color', arr.likeGoogle);
            $(".likeMicrosoft").css('color', arr.likeMicrosoft);
            $(".likeOm").css('color', arr.likeOm);
            $(".likeNM").css('color', arr.likeNM);

            $("#yourProfilePic").attr("src", photo);
            function getParameterValues(param) {  
                var url = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');  
                for (var i = 0; i < url.length; i++) {  
                    var urlparam = url[i].split('=');  
                    if (urlparam[0] == param) {  
                        return urlparam[1];  
                    }  
                }  
            }  
            function getValueOfUser() {
                for (i = 1; i <= localStorage.length; i++)    
                    {     
                        let x = JSON.parse(localStorage.getItem("user" + i));
                        if (x.id == id) {
                            return x
                        }
                    }   
            }
            if (posts > 0 ) {
                retrivePosts();
            }
            function retrivePosts() {
                for (let i = 1; i <= posts; i++) {
                    var post = arr["post"+i];
                    var like = ""
                    if (arr["like"+i]) {
                        like = arr["like"+i];
                    }
                    console.log(post);
             
                    var ele = '<div class="other-tweet"> <div class="profile-msg"> <div class="others-profile"><img src="'+ photo +'" alt=""> </div><div class="name-msg"> <span><p><b>' + name +'  </b><i class="fa fa-check-circle-o"></i>@' + userName+' <small> now</small></p></span>  <div class="msg">  <p> ' + post + '</p>  </div> </div> <div class="more-options"> <i class="fa fa-ellipsis-h"></i> </div> </div>                <div class="your-reaction"> <div class="comment"><i class="fa fa-comment-o"></i><p></p></div>   <div class="retweet"><i class="fa fa-retweet"></i></div><div class="like"  '  + 'style=" color:' + like  +  ';"  ><i class="fa fa-heart-o"></i><p></p></div><div class="bookmark"><i class="fa fa-upload"></i></div></div></div>'
                    $("#addTextTweet").val('');
                    $("#googleTweet").prepend(ele)
                   
                }
                
            }
            $(".like").on( "click", addEventToLike);
            
            function addEventToLike() {
                // var color = $(this).css('color');
                // console.log(color);
                // $(this).toggleClass('red');
                var ps = $( this ).parent().parent().get( 0 );
                ps = $(ps).children("div").children("div").children("div").children(0);
                // console.log($(ps)[0].innerText);
                var textOfTweet = $(ps)[0].innerText ;
                for (let i = 1; i <= posts; i++) {
                    var post = arr["post"+i];
                    if (post == textOfTweet) {
                        var data = localStorage.getItem('user'+id);
                        data = data ? JSON.parse(data) : {};
                        if (data["like"+i] == "red") {
                            data["like"+i] = "";
                            $(this).css('color', 'black');
                        }
                        else{
                            data["like"+i] = "red";
                            $(this).css('color', 'red');
                        }
                        localStorage.setItem('user'+id, JSON.stringify(data));
                    }
                }
                
            }


             $(".likeGoogle").on( "click",{name: "Google"}, addEventToLikeStaticPosts);
             $(".likeMicrosoft").on( "click",{name: "Microsoft"}, addEventToLikeStaticPosts);
             $(".likeOm").on( "click",{name: "Om"}, addEventToLikeStaticPosts);
             $(".likeNM").on( "click",{name: "NM"}, addEventToLikeStaticPosts);

            function addEventToLikeStaticPosts(event ) {
                        var data = localStorage.getItem('user'+id);
                        data = data ? JSON.parse(data) : {};
                        if (data["like"+event.data.name] == "red") {
                            data["like"+event.data.name] = "";
                            $(this).css('color', 'black');
                        }
                        else{
                            data["like"+event.data.name] = "red";
                            $(this).css('color', 'red');
                        }
                        localStorage.setItem('user'+id, JSON.stringify(data));
                    }






            
             $("#tweetBtn").on( "click", function() {
                 if ($("#addTextTweet").val()) {
                         var ele = '<div class="other-tweet"> <div class="profile-msg"> <div class="others-profile"><img src="'+ photo +'" alt=""> </div><div class="name-msg"> <span><p><b>' + name +'  </b><i class="fa fa-check-circle-o"></i>@' + userName+' <small> now</small></p></span>  <div class="msg">  <p> ' + $("#addTextTweet").val() + '</p>  </div> </div> <div class="more-options"> <i class="fa fa-ellipsis-h"></i> </div> </div>                <div class="your-reaction"> <div class="comment"><i class="fa fa-comment-o"></i><p></p></div>   <div class="retweet"><i class="fa fa-retweet"></i></div><div class="like" onclick="addEventToLike()"><i class="fa fa-heart-o"></i><p></p></div><div class="bookmark"><i class="fa fa-upload"></i></div></div></div>'
                         //var a = [];
                         //a = [JSON.parse(localStorage.getItem('user1'))];
                        // var dataJson = {date1 : output};
                        // a[]+=(dataJson)
                        // localStorage.setItem('user1', JSON.stringify(a));
                        var data = localStorage.getItem('user'+id);
                        data = data ? JSON.parse(data) : {};
                        var posts = data["posts"];
                        posts++;
                        data["date"+posts] = new Date($.now());
                        data["post"+posts] = $("#addTextTweet").val();
                        data["posts"] = posts;
                        localStorage.setItem('user'+id, JSON.stringify(data));
                        $("#addTextTweet").val('');
                        $("#googleTweet").prepend(ele)
                        location.reload(true);
                    } else {
                        alert("tweet text empty");
                    }
                });


        });  
    </script> 
  </body>
</html>
